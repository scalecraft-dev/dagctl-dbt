apiVersion: orchestration.scalecraft.io/v1alpha1
kind: DbtProject
metadata:
  name: analytics-demo
  namespace: default
spec:
  git:
    repository: https://github.com/scalecraft-dev/dagctl-dbt-demo.git
    ref: main
  
  schedule: "0 0 */4 * * *"  # Every 4 hours for staging
  
  image: scalecraft/dagctl-dbt-demo:latest
  
  profilesConfigMap: dbt-profiles
  
  commands:
    - run
    - --target
    - dev
  
  resources:
    requests:
      memory: "512Mi"
      cpu: "250m"
    limits:
      memory: "1Gi"
      cpu: "500m"
